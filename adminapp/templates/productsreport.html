<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    {% include 'head.html' %}
</head>

<body>
    <!-- topbar starts -->
    <div class="navbar navbar-default" role="navigation">
        {% include 'header.html' %}
        
    
    </div>
    <!-- topbar ends -->
<div class="ch-container">
    <div class="row">
        
        <!-- left menu starts -->
        <div class="col-sm-2 col-lg-2">
            {% include 'leftbar.html' %}
                    </div>
        <!--/span-->
        <!-- left menu ends -->

      

<div id="content" class="col-lg-10 col-sm-10">
            <!-- content starts -->
    <div>
    <ul class="breadcrumb">
        <li>
            <a href="/admin">Home</a>
        </li>
        <li>
            <a href="#">Products Report</a>
        </li>
    </ul>
</div>
<!--start-->

<script type="text/javascript">

    function sprint() {
        var divToPrint = document.getElementById('datatable');
        var htmlToPrint = '<style type="text/css"> table,table th, table td { border:1px solid #000; border-collapse: collapse; } </style>';
        htmlToPrint += divToPrint.outerHTML;
        newWin = window.open("");
        newWin.document.write(htmlToPrint);
        newWin.print();
        newWin.close();
        //newWin.window.print();
    }
    </script>

<div class="row">
    <div class="box col-md-12">
        <div class="box-inner">
            <div class="box-header well" data-original-title="">
                <h2><i class="glyphicon glyphicon-edit"></i> Products Report</h2>

            </div>
            <div class="box-content">
                <form role="form" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group col-md-2">
                        <label for="exampleInputEmail1">Start Date</label>
                        <input type="date" name="s_date" class="form-control" id="exampleInputEmail1" placeholder="Enter Booking Date">
                    </div>

                    <div class="form-group  col-md-2">
                        <label for="exampleInputPassword1">End Date</label>
                        <input type="date" name="e_date" class="form-control" id="exampleInputPassword1" placeholder="Enter End Date">
                    </div>

                  

                    <div class="form-group  col-md-2">
                    <label for="exampleInputEmail1">&nbsp;</label>
                    <button type="submit" class="btn btn-primary" style="margin-top: 25px;">Generate</button>
                    </div>

                    <div class="form-group col-md-2">
                        <label for="exampleInputEmail1">&nbsp;</label><br/>
                        <button type="submit" class="btn btn-primary" onclick="sprint('datatable')">Print</button>
                         </div>
                   
                </form>
                <br/><br/><br/><br/>
            </div>
        </div>
    </div>
</div>

<!--/span-->
<div class="row">
    <div class="box col-md-12">
    <div class="box-inner">
    <div class="box-header well" data-original-title="">
        <h2><i class="glyphicon glyphicon-user"></i> View Products Details {% if request.POST.s_date != None %} ({{request.POST.s_date}} to {{request.POST.e_date}}) {% endif %}</h2>

    </div>
    <div class="box-content" style="overflow-x:auto;">
    
    <table id="datatable" class="table table-striped table-bordered bootstrap-datatable datatable responsive">
    <thead>
        <tr>
            <th>ID</th>
            <th>City</th>
            <th>Category</th>
            <th>Subcategory</th>
            <th>Name</th>
            <th>Details</th>
            <th>Image1</th>
            <th>Image2</th>
            <th>Image3</th>
            <th>Size</th>
            <th>Color</th>
            <th>Material</th>
            <th>MRP</th>
            <th>Price</th>
            <th>Deposite</th>
            <th>Status</th>
            <th>Created Date</th>
            <th>Updated Date</th>
        </tr>
        </thead>
        <tbody>
        {% for row in products_data %}    
        <tr>
            <td>{{ forloop.counter }}</td>
        <td class="center">{{row.32}}</td>
        <td class="center">{{row.19}}</td>
        <td class="center">{{row.26}}</td>
        <td class="center">{{row.4}}</td>
        <td class="center">{{row.5}}</td>
        <td class="center"><img src="/media/{{row.6}}" height="50px" width="50px" /></td>
        <td class="center"><img src="/media/{{row.7}}" height="50px" width="50px" /></td>
        <td class="center"><img src="/media/{{row.8}}" height="50px" width="50px" /></td>
        <td class="center">{{row.9}}</td>
        <td class="center">{{row.10}}</td>
        <td class="center">{{row.11}}</td>
        <td class="center"><span style='font-family:Arial;'>&#8377;</span>&nbsp;{{row.12}} | Per Month</td>
        <td class="center"><span style='font-family:Arial;'>&#8377;</span>&nbsp;{{row.13}} | Per Month</td>
        <td class="center"><span style='font-family:Arial;'>&#8377;</span>&nbsp;{{row.17}}</td>
        <td class="center">
            {% if row.14 == 'Active' %}
            <span class="label-success label label-default">{{row.14}}</span>
            {% else %}
            <span class="label-danger label label-default">{{row.14}}</span>
            {% endif %}
        </td>
        <td class="center">{{row.15|date:'Y-m-d H:i:s'}}</td>
        <td class="center">{{row.16|date:'Y-m-d H:i:s'}}</td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    </div>
    </div>
    </div>
    <!--/span-->

    </div><!--/row-->
<!--end-->




   <!-- content ends -->
    </div><!--/#content.col-md-0-->
</div><!--/fluid-row-->

    
    <hr>

    
    <footer class="row">
        {% include 'footer.html' %}
        </footer>

</div><!--/.fluid-container-->

<!-- external javascript -->
{% include 'script.html' %}

</body>
</html>